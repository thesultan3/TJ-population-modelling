# Trader Joe's NYC Location Suitability Analysis

This project analyzes various demographic, economic, and geographic datasets to identify the optimal location for a new Trader Joe's store in New York City. The analysis culminates in an interactive web application that allows users to weight different suitability factors and visualize the results on a map of NYC.

The final recommendation, based on a model prioritizing income, education, and a younger population, is **ZIP code 11215**.

## File Descriptions

-   `TJ population modelling report.pdf`: A comprehensive report detailing the project's methodology, data exploration process, analysis, and final recommendation.
-   `trader_joes_code.ipynb`: The main Jupyter Notebook that performs all data ingestion, cleaning, merging, feature engineering, and geospatial processing. It combines over 15 datasets into a single, analysis-ready GeoJSON file.
-   `app.py`: A Streamlit script that creates an interactive web application. It uses the output from the notebook to generate a dynamic choropleth (heatmap) of NYC, allowing for real-time adjustments to the suitability model.
-   `/content/` (not provided, assumed): This directory should contain all the raw CSV data files used in the `trader_joes_code.ipynb` notebook.
-   `final_combined_data_with_new_columns.geojson`: The final, processed geospatial data file generated by the notebook. This file is the direct input for the `app.py` web application.

## Technical Overview

### 1. Data Processing and Feature Engineering

The `trader_joes_code.ipynb` notebook executes the entire data pipeline:

1.  **Data Ingestion**: Loads over 15 datasets, including US Census tables (demographics, income, education, etc.), and NYC Open Data (MTA stations, parking facilities, competitor locations).
2.  **Data Cleaning**: Standardizes column names, filters data to valid NYC ZIP codes, and handles missing values. The Modified Zip Code Tabulation Areas (MODZCTA) dataset is used to aggregate data into practical, well-defined geographic zones.
3.  **Geospatial Aggregation**:
    -   Point-based data (e.g., subway stations, competitor stores, parking lots) is converted into GeoDataFrames using `geopandas`.
    -   A spatial join (`sjoin`) is performed to aggregate these points into their corresponding ZIP code polygons, calculating metrics like `parking_count`, `station_count`, and the number of competing stores per ZIP code.
4.  **Feature Engineering**: Creates new, more insightful features from the raw census data, such as:
    -   **Age Groups**: `pop_under_20`, `pop_20_30`, `pop_30_45`, etc.
    -   **Income Tiers**: `low_income`, `middle_income`, `high_income`.
    -   **Education Level**: `bachelors_or_higher`.
5.  **Output**: The pipeline culminates in the creation of `final_combined_data_with_new_columns.geojson`, a single file containing all engineered features and the geometric data for each NYC ZIP code.

### 2. Interactive Suitability Model

The `app.py` script provides an interactive interface for location analysis:

-   **Factor Weighting**: Users can assign weights (0.0 to 1.0) to various demographic and economic factors via sliders.
-   **Normalization**: To ensure fair comparison, the raw values for each factor are normalized to a 0-1 scale.
-   **Composite Score**: A suitability score for each ZIP code is calculated as a weighted average of the normalized factors based on the user's input.
-   **Visualization**: A `folium` choropleth map is rendered, where the color intensity of each ZIP code represents its calculated suitability score. The map also includes markers for existing Trader Joe's, Whole Foods, and Wegmans locations to provide competitive context.

## How to Run

1.  **Clone the repository.**

2.  **Install dependencies.** Ensure Python is installed, then run:
    ```bash
    pip install streamlit pandas geopandas folium streamlit-folium shapely
    ```

3.  **Organize data.** Place all raw `.csv` files into a `/content/` directory at the root of the project, or update the file paths in the `trader_joes_code.ipynb` notebook.

4.  **Run the notebook.** Execute the cells in `trader_joes_code.ipynb` to process the raw data and generate the `final_combined_data_with_new_columns.geojson` file.

5.  **Launch the application.** Run the following command in your terminal:
    ```bash
    streamlit run app.py
    ```
    This will launch the interactive heatmap in your web browser.

*Note - This summary was AI generated and edited* 
